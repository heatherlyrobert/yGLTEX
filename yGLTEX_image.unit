#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yGLTEX.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yGLTEX_priv.h               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (IMAGE) verify allocating and freeing image space                  0s   alloc           ygltex_image_alloc, ygltex_image_free                                        ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ygltex__unit_quiet                                                                                                                i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   png_byte  *x_image = NULL;                                                                                                                                                                                                 
     local    create working variable              - - - - - - - - - - - - -   png_bytep *x_rows  = NULL;                                                                                                                                                                                                 

   COND       attempt to free before allocating                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            ygltex_image_free           &x_image , &x_rows                                                                                    i_lesser    0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_null      0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_null      0                                                                                                    

   COND       attempt with NULLs                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        ygltex_image_alloc          100      , 100      , 400      , NULL     , &x_rows                                                   i_lesser    0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_null      0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_null      0                                                                                                    
     exec     call allocate                        ygltex_image_alloc          100      , 100      , 400      , &x_image , NULL                                                      i_lesser    0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_null      0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_null      0                                                                                                    

   COND       verify allocating image                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        ygltex_image_alloc          100      , 100      , 400      , &x_image , &x_rows                                                   i_equal     0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_exists    0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_exists    0                                                                                                    

   COND       attempt to allocate when already set                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        ygltex_image_alloc          100      , 100      , 400      , &x_image , &x_rows                                                   i_lesser    0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_exists    0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_exists    0                                                                                                    

   COND       verify freeing image                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            ygltex_image_free           &x_image , &x_rows                                                                                    i_equal     0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_null      0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_null      0                                                                                                    

   COND       attempt to free after freeing                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            ygltex_image_free           &x_image , &x_rows                                                                                    i_lesser    0                                                                                                    
     echo     ... check image                      - - - - - - - - - - - - -   x_image                                                                                               p_null      0                                                                                                    
     echo     ... check rows                       - - - - - - - - - - - - -   x_rows                                                                                                p_null      0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ygltex__unit_end                                                                                                                  i_equal     0                                                                                                    

